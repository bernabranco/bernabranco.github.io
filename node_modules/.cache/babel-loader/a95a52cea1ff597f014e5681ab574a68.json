{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { React, useEffect } from 'react';\nimport * as THREE from 'three';\nexport default function Threejs() {\n  _s();\n\n  useEffect(() => {\n    //create scene and camera\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000); //create render, canvas and add canvas to dom\n\n    const renderer = new THREE.WebGLRenderer();\n    renderer.setSize(window.innerWidth / 2, window.innerHeight);\n    document.body.appendChild(renderer.domElement);\n    const material = new THREE.ShaderMaterial({\n      uniforms: {\n        time: {\n          value: 1.0\n        },\n        resolution: {\n          value: new THREE.Vector2(window.innerWidth, window.innerHeight)\n        },\n        mousex: {\n          value: 0\n        },\n        mousey: {\n          value: 0\n        }\n      },\n      vertexShader: document.getElementById('vertexShader').textContent,\n      fragmentShader: document.getElementById('fragmentShader').textContent\n    }); //define shader x,y,z\n\n    const geometry = new THREE.PlaneGeometry(10, 10, 4);\n    const mesh = new THREE.Mesh(geometry, material);\n    scene.add(mesh);\n    camera.position.z = 5; //map values method\n\n    function map_range(value, low1, high1, low2, high2) {\n      return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    } //mouse rotates shader\n\n\n    window.addEventListener(\"mousemove\", mouseAnimate);\n\n    function shaderAnimate(e) {\n      const canvas = document.querySelector(\"canvas\");\n\n      if (e.pageX >= canvas.getBoundingClientRect().left) {\n        material.uniforms.mousex.value = e.pageX * 0.001;\n        material.uniforms.mousey.value = e.pageY * 0.001;\n      }\n    }\n\n    function mouseAnimate(e) {\n      var mouse = new THREE.Vector2(e.pageX, e.pageY);\n      var xoffset = map_range(mouse.x, 0, window.innerWidth, -2 * 3.14, 2 * 3.14);\n      var yoffset = map_range(mouse.y, 0, window.innerHeight, -2 * 3.14, 2 * 3.14); //rotate shader\n\n      mesh.rotation.x += yoffset * 0.02;\n      mesh.rotation.y += xoffset * 0.02;\n    }\n\n    function animate() {\n      requestAnimationFrame(animate);\n      renderer.render(scene, camera); //define shader time\n\n      material.uniforms.time.value += 0.3;\n    }\n\n    ;\n\n    function resize() {\n      //resize canvas\n      window.addEventListener('resize', () => {\n        // Update camera\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix(); // Update renderer\n\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n      });\n    }\n\n    animate();\n    resize();\n    return () => {\n      document.body.removeChild(renderer.domElement);\n    };\n  }, []);\n  return null;\n}\n\n_s(Threejs, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Threejs;\n\nvar _c;\n\n$RefreshReg$(_c, \"Threejs\");","map":{"version":3,"sources":["/Users/bernardoagbranco/react-learn/portfolio_site/site/src/components/Threejs.js"],"names":["React","useEffect","THREE","Threejs","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","renderer","WebGLRenderer","setSize","document","body","appendChild","domElement","material","ShaderMaterial","uniforms","time","value","resolution","Vector2","mousex","mousey","vertexShader","getElementById","textContent","fragmentShader","geometry","PlaneGeometry","mesh","Mesh","add","position","z","map_range","low1","high1","low2","high2","addEventListener","mouseAnimate","shaderAnimate","e","canvas","querySelector","pageX","getBoundingClientRect","left","pageY","mouse","xoffset","x","yoffset","y","rotation","animate","requestAnimationFrame","render","resize","aspect","updateProjectionMatrix","setPixelRatio","Math","min","devicePixelRatio","removeChild"],"mappings":"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","sourcesContent":["\nimport {React, useEffect} from 'react'\nimport * as THREE from 'three';\n\nexport default function Threejs(){\n\nuseEffect(() => {\n  \n        //create scene and camera\n\t\t\tconst scene = new THREE.Scene();\n\t\t\tconst camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );\n\t\t\t\n\t\t\t//create render, canvas and add canvas to dom\n\t\t\tconst renderer = new THREE.WebGLRenderer();\n\t\t\trenderer.setSize( window.innerWidth/2, window.innerHeight );\n      document.body.appendChild( renderer.domElement );\n      \n\t\t\tconst material = new THREE.ShaderMaterial( \n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\tuniforms: {\n          time: { value: 1.0 },\n          resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },\n\t\t  mousex: {value: 0},\n\t\t  mousey: {value:0}\n        },\n        \n\t\t\t\tvertexShader: document.getElementById( 'vertexShader' ).textContent,\n\t\t\t\tfragmentShader: document.getElementById( 'fragmentShader' ).textContent\n\t\t\t\t} \n\t\t\t);\n\t\t\t\n\t\t\t//define shader x,y,z\n\t\t\tconst geometry = new THREE.PlaneGeometry(10,10,4);\n\t\t\tconst mesh = new THREE.Mesh( geometry, material );\n\t\t\tscene.add(mesh);\n\n\t\t\tcamera.position.z = 5;\n\n\t\t\t//map values method\n\t\t\tfunction map_range(value, low1, high1, low2, high2) {\n\t\t\t\treturn low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n\t\t\t}\n\t\t\n\t\t\t//mouse rotates shader\n\t\t\twindow.addEventListener(\"mousemove\", mouseAnimate);\n\n\t\t\tfunction shaderAnimate(e){\n\t\t\t\tconst canvas = document.querySelector(\"canvas\");\n\t\t\t\tif (e.pageX >= canvas.getBoundingClientRect().left){\n\t\t\t\t\tmaterial.uniforms.mousex.value = e.pageX*0.001;\n\t\t\t\t\tmaterial.uniforms.mousey.value = e.pageY*0.001;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction mouseAnimate(e){\n\n\t\t\t\tvar mouse = new THREE.Vector2(e.pageX, e.pageY);\n\t\t\t\tvar xoffset = map_range(mouse.x,0,window.innerWidth, -2*3.14, 2*3.14);\n\t\t\t\tvar yoffset = map_range(mouse.y,0,window.innerHeight, -2*3.14, 2*3.14);\n\t\t\t\t\n\t\t\t\t//rotate shader\n\t\t\t\tmesh.rotation.x += yoffset*0.02;\n\t\t\t\tmesh.rotation.y += xoffset*0.02;\n\t\t\t}\n\t\t\t\n\t\tfunction animate() {\n\t\t\t\trequestAnimationFrame( animate );\n\t\t\t\trenderer.render( scene, camera );\n\n\t\t\t\t//define shader time\n\t\t\t\tmaterial.uniforms.time.value += 0.3;\t\n\t\t};\n\n      function resize(){\n\t\t\t//resize canvas\n\t\t\twindow.addEventListener('resize', () =>\n\t\t\t{\n\t\t\t// Update camera\n\t\t\tcamera.aspect = window.innerWidth / window.innerHeight;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t\t// Update renderer\n\t\t\trenderer.setSize(window.innerWidth, window.innerHeight);\n\t\t\trenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n\t\t\t})\n\t\t}\n\n\t\tanimate();\n\t\tresize();\n\n        return () => {\n            document.body.removeChild(renderer.domElement);\n        }\n\n      },[]);\n\nreturn(\n   null\n)\n\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}